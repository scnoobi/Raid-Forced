[gd_scene load_steps=112 format=3 uid="uid://tf7b8c64ecc0"]

[ext_resource type="PackedScene" uid="uid://cg8ibi18um3vg" path="res://addons/block_code/examples/pong_game/space.tscn" id="1_y56ac"]
[ext_resource type="Script" path="res://addons/block_code/block_code_node/block_code.gd" id="3_6jaq8"]
[ext_resource type="PackedScene" uid="uid://ddx1cd5q6t61o" path="res://addons/block_code/simple_nodes/simple_character/simple_character.tscn" id="3_hjpbs"]
[ext_resource type="Script" path="res://addons/block_code/ui/block_canvas/serialized_block_tree_node.gd" id="4_qtggh"]
[ext_resource type="Texture2D" uid="uid://tplpgtnfeda0" path="res://addons/block_code/examples/pong_game/assets/paddle.png" id="4_ra7bh"]
[ext_resource type="Script" path="res://addons/block_code/ui/block_canvas/serialized_block.gd" id="5_wr38c"]
[ext_resource type="Script" path="res://addons/block_code/ui/block_canvas/serialized_block_tree_node_array.gd" id="6_ppdc3"]
[ext_resource type="Script" path="res://addons/block_code/block_script_data/block_script_data.gd" id="7_uuuue"]
[ext_resource type="PackedScene" uid="uid://bis7afjjuwypq" path="res://addons/block_code/simple_nodes/simple_scoring/simple_scoring.tscn" id="8_yg457"]
[ext_resource type="PackedScene" uid="uid://c7l70grmkauij" path="res://addons/block_code/examples/pong_game/ball.tscn" id="9_xrqll"]
[ext_resource type="PackedScene" uid="uid://fhoapg3anjsu" path="res://addons/block_code/examples/pong_game/goal_area.tscn" id="12_nqmxu"]

[sub_resource type="Resource" id="Resource_k50df"]
script = ExtResource("5_wr38c")
block_class = &"StatementBlock"
serialized_props = [["block_name", "statement_block"], ["label", "StatementBlock"], ["color", Color(0.835294, 0.262745, 0.133333, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Move with player 1 buttons, speed {speed: VECTOR2}"], ["statement", "var dir = Vector2()
dir.x += float(Input.is_physical_key_pressed(KEY_D))
dir.x -= float(Input.is_physical_key_pressed(KEY_A))
dir.y += float(Input.is_physical_key_pressed(KEY_S))
dir.y -= float(Input.is_physical_key_pressed(KEY_W))
dir = dir.normalized()
velocity = dir*{speed}
move_and_slide()"], ["defaults", {}], ["param_input_strings", {
"speed": "0,1000"
}]]

[sub_resource type="Resource" id="Resource_bjhgb"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_k50df")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_fwk6m"]
script = ExtResource("5_wr38c")
block_class = &"EntryBlock"
serialized_props = [["block_name", "process_block"], ["label", "EntryBlock"], ["color", Color(0.92549, 0.231373, 0.34902, 1)], ["block_type", 1], ["position", Vector2(167, 112)], ["scope", ""], ["block_format", "On Process"], ["statement", "func _process(delta):"], ["defaults", {}], ["param_input_strings", {}], ["signal_name", ""]]

[sub_resource type="Resource" id="Resource_8ar27"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_fwk6m")
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_bjhgb")]]

[sub_resource type="Resource" id="Resource_ue2t3"]
script = ExtResource("6_ppdc3")
array = Array[ExtResource("4_qtggh")]([SubResource("Resource_8ar27")])

[sub_resource type="Resource" id="Resource_qmak3"]
script = ExtResource("7_uuuue")
script_inherits = "SimpleCharacter"
block_trees = SubResource("Resource_ue2t3")
generated_script = "extends SimpleCharacter

var VAR_DICT := {}

func _process(delta):
	var dir = Vector2()
	dir.x += float(Input.is_physical_key_pressed(KEY_D))
	dir.x -= float(Input.is_physical_key_pressed(KEY_A))
	dir.y += float(Input.is_physical_key_pressed(KEY_S))
	dir.y -= float(Input.is_physical_key_pressed(KEY_W))
	dir = dir.normalized()
	velocity = dir*Vector2(0,1000)
	move_and_slide()

"

[sub_resource type="Resource" id="Resource_d4hry"]
script = ExtResource("5_wr38c")
block_class = &"StatementBlock"
serialized_props = [["block_name", "statement_block"], ["label", "StatementBlock"], ["color", Color(0.835294, 0.262745, 0.133333, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Move with player 2 buttons, speed {speed: VECTOR2}"], ["statement", "var dir = Vector2()
dir.x += float(Input.is_physical_key_pressed(KEY_RIGHT))
dir.x -= float(Input.is_physical_key_pressed(KEY_LEFT))
dir.y += float(Input.is_physical_key_pressed(KEY_DOWN))
dir.y -= float(Input.is_physical_key_pressed(KEY_UP))
dir = dir.normalized()
velocity = dir*{speed}
move_and_slide()"], ["defaults", {}], ["param_input_strings", {
"speed": "0,1000"
}]]

[sub_resource type="Resource" id="Resource_c0nei"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_d4hry")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_wrx2u"]
script = ExtResource("5_wr38c")
block_class = &"EntryBlock"
serialized_props = [["block_name", "process_block"], ["label", "EntryBlock"], ["color", Color(0.92549, 0.231373, 0.34902, 1)], ["block_type", 1], ["position", Vector2(179, 149)], ["scope", ""], ["block_format", "On Process"], ["statement", "func _process(delta):"], ["defaults", {}], ["param_input_strings", {}], ["signal_name", ""]]

[sub_resource type="Resource" id="Resource_75h61"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_wrx2u")
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_c0nei")]]

[sub_resource type="Resource" id="Resource_r5rk4"]
script = ExtResource("6_ppdc3")
array = Array[ExtResource("4_qtggh")]([SubResource("Resource_75h61")])

[sub_resource type="Resource" id="Resource_lxj2y"]
script = ExtResource("7_uuuue")
script_inherits = "SimpleCharacter"
block_trees = SubResource("Resource_r5rk4")
generated_script = "extends SimpleCharacter

var VAR_DICT := {}

func _process(delta):
	var dir = Vector2()
	dir.x += float(Input.is_physical_key_pressed(KEY_RIGHT))
	dir.x -= float(Input.is_physical_key_pressed(KEY_LEFT))
	dir.y += float(Input.is_physical_key_pressed(KEY_DOWN))
	dir.y -= float(Input.is_physical_key_pressed(KEY_UP))
	dir = dir.normalized()
	velocity = dir*Vector2(0,1000)
	move_and_slide()

"

[sub_resource type="Resource" id="Resource_lbd5h"]
script = ExtResource("5_wr38c")
block_class = &"StatementBlock"
serialized_props = [["block_name", "statement_block"], ["label", "StatementBlock"], ["color", Color(0.890196, 0.0588235, 0.752941, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Load file {file_path: STRING} as sound {name: STRING}"], ["statement", "VAR_DICT[{name}] = AudioStreamPlayer.new()
VAR_DICT[{name}].name = {name}
VAR_DICT[{name}].set_stream(load({file_path}))
add_child(VAR_DICT[{name}])"], ["defaults", {}], ["param_input_strings", {
"file_path": "res://addons/block_code/examples/pong_game/assets/score.ogg",
"name": "score_sound"
}]]

[sub_resource type="Resource" id="Resource_6fxi6"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_lbd5h")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_4ns0q"]
script = ExtResource("5_wr38c")
block_class = &"StatementBlock"
serialized_props = [["block_name", "statement_block"], ["label", "StatementBlock"], ["color", Color(0.890196, 0.0588235, 0.752941, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Load file {file_path: STRING} as sound {name: STRING}"], ["statement", "VAR_DICT[{name}] = AudioStreamPlayer.new()
VAR_DICT[{name}].name = {name}
VAR_DICT[{name}].set_stream(load({file_path}))
add_child(VAR_DICT[{name}])"], ["defaults", {}], ["param_input_strings", {
"file_path": "res://addons/block_code/examples/pong_game/assets/wall_hit.ogg",
"name": "wall_hit"
}]]

[sub_resource type="Resource" id="Resource_bp15q"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_4ns0q")
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_6fxi6")]]

[sub_resource type="Resource" id="Resource_qlhw3"]
script = ExtResource("5_wr38c")
block_class = &"StatementBlock"
serialized_props = [["block_name", "statement_block"], ["label", "StatementBlock"], ["color", Color(0.890196, 0.0588235, 0.752941, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Load file {file_path: STRING} as sound {name: STRING}"], ["statement", "VAR_DICT[{name}] = AudioStreamPlayer.new()
VAR_DICT[{name}].name = {name}
VAR_DICT[{name}].set_stream(load({file_path}))
add_child(VAR_DICT[{name}])"], ["defaults", {}], ["param_input_strings", {
"file_path": "res://addons/block_code/examples/pong_game/assets/paddle_hit.ogg",
"name": "paddle_hit"
}]]

[sub_resource type="Resource" id="Resource_4o4ck"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_qlhw3")
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_bp15q")]]

[sub_resource type="Resource" id="Resource_sltlk"]
script = ExtResource("5_wr38c")
block_class = &"EntryBlock"
serialized_props = [["block_name", "ready_block"], ["label", "EntryBlock"], ["color", Color(0.980392, 0.34902, 0.337255, 1)], ["block_type", 1], ["position", Vector2(49, 42)], ["scope", ""], ["block_format", "On Ready"], ["statement", "func _ready():"], ["defaults", {}], ["param_input_strings", {}], ["signal_name", ""]]

[sub_resource type="Resource" id="Resource_wlbg2"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_sltlk")
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_4o4ck")]]

[sub_resource type="Resource" id="Resource_5ftwo"]
script = ExtResource("5_wr38c")
block_class = &"ParameterBlock"
serialized_props = [["block_name", "parameter_block"], ["label", "Param"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 3], ["position", Vector2(0, 0)], ["scope", "
func _on_body_entered(_body: Node):
	var body: NodePath = _body.get_path()
"], ["block_format", "body"], ["statement", "body"], ["defaults", {}], ["variant_type", 22], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_2kdpe"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_5ftwo")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_282k5"]
script = ExtResource("5_wr38c")
block_class = &"ParameterBlock"
serialized_props = [["block_name", "parameter_block"], ["label", "Param"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 3], ["position", Vector2(0, 0)], ["scope", "
func _on_body_entered(_body: Node):
	var body: NodePath = _body.get_path()
"], ["block_format", "body"], ["statement", "body"], ["defaults", {}], ["variant_type", 22], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_rofb0"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_282k5")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_7ldo3"]
script = ExtResource("5_wr38c")
block_class = &"ParameterBlock"
serialized_props = [["block_name", "parameter_block"], ["label", "Param"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 3], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Is {node: NODE_PATH} in group {group: STRING}"], ["statement", "get_node({node}).is_in_group({group})"], ["defaults", {}], ["variant_type", 1], ["param_input_strings", {
"group": "paddles",
"node": ""
}]]

[sub_resource type="Resource" id="Resource_nqdjc"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_7ldo3")
path_child_pairs = [[NodePath("MarginContainer/HBoxContainer/ParameterInput0/SnapPoint"), SubResource("Resource_rofb0")]]

[sub_resource type="Resource" id="Resource_j6m6b"]
script = ExtResource("5_wr38c")
block_class = &"StatementBlock"
serialized_props = [["block_name", "statement_block"], ["label", "StatementBlock"], ["color", Color(0.890196, 0.0588235, 0.752941, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Play the sound {name: STRING} with Volume dB {db: FLOAT} and Pitch Scale {pitch: FLOAT}"], ["statement", "VAR_DICT[{name}].volume_db = {db}
VAR_DICT[{name}].pitch_scale = {pitch}
VAR_DICT[{name}].play()"], ["defaults", {
"db": "0.0",
"pitch": "1.0"
}], ["param_input_strings", {
"db": "0.0",
"name": "paddle_hit",
"pitch": "1.0"
}]]

[sub_resource type="Resource" id="Resource_scf28"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_j6m6b")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_2mpvd"]
script = ExtResource("5_wr38c")
block_class = &"ParameterBlock"
serialized_props = [["block_name", "parameter_block"], ["label", "Param"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 3], ["position", Vector2(0, 0)], ["scope", "
func _on_body_entered(_body: Node):
	var body: NodePath = _body.get_path()
"], ["block_format", "body"], ["statement", "body"], ["defaults", {}], ["variant_type", 22], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_1lxsg"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_2mpvd")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_jiood"]
script = ExtResource("5_wr38c")
block_class = &"ParameterBlock"
serialized_props = [["block_name", "parameter_block"], ["label", "Param"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 3], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Is {node: NODE_PATH} in group {group: STRING}"], ["statement", "get_node({node}).is_in_group({group})"], ["defaults", {}], ["variant_type", 1], ["param_input_strings", {
"group": "walls",
"node": ""
}]]

[sub_resource type="Resource" id="Resource_cxr6m"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_jiood")
path_child_pairs = [[NodePath("MarginContainer/HBoxContainer/ParameterInput0/SnapPoint"), SubResource("Resource_1lxsg")]]

[sub_resource type="Resource" id="Resource_4luxm"]
script = ExtResource("5_wr38c")
block_class = &"StatementBlock"
serialized_props = [["block_name", "statement_block"], ["label", "StatementBlock"], ["color", Color(0.890196, 0.0588235, 0.752941, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Play the sound {name: STRING} with Volume dB {db: FLOAT} and Pitch Scale {pitch: FLOAT}"], ["statement", "VAR_DICT[{name}].volume_db = {db}
VAR_DICT[{name}].pitch_scale = {pitch}
VAR_DICT[{name}].play()"], ["defaults", {
"db": "0.0",
"pitch": "1.0"
}], ["param_input_strings", {
"db": "0.0",
"name": "wall_hit",
"pitch": "1.0"
}]]

[sub_resource type="Resource" id="Resource_e1yr3"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_4luxm")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_v4fm4"]
script = ExtResource("5_wr38c")
block_class = &"ControlBlock"
serialized_props = [["block_name", "control_block"], ["label", "Control Block"], ["color", Color(0.270588, 0.666667, 0.94902, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_formats", ["if    {condition: BOOL}"]], ["statements", ["if {condition}:"]], ["defaults", {}], ["param_input_strings_array", [{
"condition": false
}]]]

[sub_resource type="Resource" id="Resource_2s53u"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_v4fm4")
path_child_pairs = [[NodePath("VBoxContainer/MarginContainer/Rows/Row0/RowHBoxContainer/RowHBox/ParameterInput0/SnapPoint"), SubResource("Resource_cxr6m")], [NodePath("VBoxContainer/MarginContainer/Rows/SnapContainer0/SnapPoint"), SubResource("Resource_e1yr3")]]

[sub_resource type="Resource" id="Resource_1st46"]
script = ExtResource("5_wr38c")
block_class = &"ControlBlock"
serialized_props = [["block_name", "control_block"], ["label", "Control Block"], ["color", Color(0.270588, 0.666667, 0.94902, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_formats", ["if    {condition: BOOL}"]], ["statements", ["if {condition}:"]], ["defaults", {}], ["param_input_strings_array", [{
"condition": false
}]]]

[sub_resource type="Resource" id="Resource_ci12p"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_1st46")
path_child_pairs = [[NodePath("VBoxContainer/MarginContainer/Rows/Row0/RowHBoxContainer/RowHBox/ParameterInput0/SnapPoint"), SubResource("Resource_nqdjc")], [NodePath("VBoxContainer/MarginContainer/Rows/SnapContainer0/SnapPoint"), SubResource("Resource_scf28")], [NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_2s53u")]]

[sub_resource type="Resource" id="Resource_gpji8"]
script = ExtResource("5_wr38c")
block_class = &"EntryBlock"
serialized_props = [["block_name", "entry_block"], ["label", "EntryBlock"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 1], ["position", Vector2(50, 226)], ["scope", ""], ["block_format", "On [body: NODE_PATH] entered"], ["statement", "
func _on_body_entered(_body: Node):
	var body: NodePath = _body.get_path()
"], ["defaults", {}], ["param_input_strings", {}], ["signal_name", "body_entered"]]

[sub_resource type="Resource" id="Resource_kidbc"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_gpji8")
path_child_pairs = [[NodePath("VBoxContainer/TopMarginContainer/MarginContainer/HBoxContainer/ParameterOutput0/SnapPoint"), SubResource("Resource_2kdpe")], [NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_ci12p")]]

[sub_resource type="Resource" id="Resource_s53m4"]
script = ExtResource("5_wr38c")
block_class = &"ParameterBlock"
serialized_props = [["block_name", "parameter_block"], ["label", "Param"], ["color", Color(0.0117647, 0.666667, 0.454902, 1)], ["block_type", 3], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Viewport Center"], ["statement", "(func (): var transform: Transform2D = get_viewport_transform(); var scale: Vector2 = transform.get_scale(); return -transform.origin / scale + get_viewport_rect().size / scale / 2).call()"], ["defaults", {}], ["variant_type", 5], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_l3fka"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_s53m4")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_5id23"]
script = ExtResource("5_wr38c")
block_class = &"StatementBlock"
serialized_props = [["block_name", "statement_block"], ["label", "StatementBlock"], ["color", Color(0.890196, 0.0588235, 0.752941, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Play the sound {name: STRING} with Volume dB {db: FLOAT} and Pitch Scale {pitch: FLOAT}"], ["statement", "VAR_DICT[{name}].volume_db = {db}
VAR_DICT[{name}].pitch_scale = {pitch}
VAR_DICT[{name}].play()"], ["defaults", {
"db": "0.0",
"pitch": "1.0"
}], ["param_input_strings", {
"db": "0.0",
"name": "score_sound",
"pitch": "1.0"
}]]

[sub_resource type="Resource" id="Resource_2xngh"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_5id23")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_4nxq2"]
script = ExtResource("5_wr38c")
block_class = &"StatementBlock"
serialized_props = [["block_name", "statement_block"], ["label", "StatementBlock"], ["color", Color(0.439216, 0.501961, 0.564706, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Set Physics Position {position: VECTOR2}"], ["statement", "PhysicsServer2D.body_set_state(get_rid(),PhysicsServer2D.BODY_STATE_TRANSFORM,Transform2D.IDENTITY.translated({position}))"], ["defaults", {}], ["param_input_strings", {
"position": "960,544"
}]]

[sub_resource type="Resource" id="Resource_jy6wp"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_4nxq2")
path_child_pairs = [[NodePath("VBoxContainer/TopMarginContainer/MarginContainer/HBoxContainer/ParameterInput0/SnapPoint"), SubResource("Resource_l3fka")], [NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_2xngh")]]

[sub_resource type="Resource" id="Resource_ysjrw"]
script = ExtResource("5_wr38c")
block_class = &"EntryBlock"
serialized_props = [["block_name", "entry_block"], ["label", "EntryBlock"], ["color", Color(0.941176, 0.764706, 0, 1)], ["block_type", 1], ["position", Vector2(51, 616)], ["scope", ""], ["block_format", "Define method {method_name: NIL}"], ["statement", "func {method_name}():"], ["defaults", {}], ["param_input_strings", {
"method_name": "reset"
}], ["signal_name", ""]]

[sub_resource type="Resource" id="Resource_y82yh"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_ysjrw")
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_jy6wp")]]

[sub_resource type="Resource" id="Resource_vlu5s"]
script = ExtResource("6_ppdc3")
array = Array[ExtResource("4_qtggh")]([SubResource("Resource_wlbg2"), SubResource("Resource_kidbc"), SubResource("Resource_y82yh")])

[sub_resource type="Resource" id="Resource_hnwk2"]
script = ExtResource("7_uuuue")
script_inherits = "RigidBody2D"
block_trees = SubResource("Resource_vlu5s")
generated_script = "extends RigidBody2D

var VAR_DICT := {}

func _ready():
	VAR_DICT['paddle_hit'] = AudioStreamPlayer.new()
	VAR_DICT['paddle_hit'].name = 'paddle_hit'
	VAR_DICT['paddle_hit'].set_stream(load('res://addons/block_code/examples/pong_game/assets/paddle_hit.ogg'))
	add_child(VAR_DICT['paddle_hit'])
	VAR_DICT['wall_hit'] = AudioStreamPlayer.new()
	VAR_DICT['wall_hit'].name = 'wall_hit'
	VAR_DICT['wall_hit'].set_stream(load('res://addons/block_code/examples/pong_game/assets/wall_hit.ogg'))
	add_child(VAR_DICT['wall_hit'])
	VAR_DICT['score_sound'] = AudioStreamPlayer.new()
	VAR_DICT['score_sound'].name = 'score_sound'
	VAR_DICT['score_sound'].set_stream(load('res://addons/block_code/examples/pong_game/assets/score.ogg'))
	add_child(VAR_DICT['score_sound'])


func _on_body_entered(_body: Node):
	var body: NodePath = _body.get_path()

	if get_node(body).is_in_group('paddles'):
		VAR_DICT['paddle_hit'].volume_db = 0.0
		VAR_DICT['paddle_hit'].pitch_scale = 1.0
		VAR_DICT['paddle_hit'].play()
	if get_node(body).is_in_group('walls'):
		VAR_DICT['wall_hit'].volume_db = 0.0
		VAR_DICT['wall_hit'].pitch_scale = 1.0
		VAR_DICT['wall_hit'].play()

func reset():
	PhysicsServer2D.body_set_state(get_rid(),PhysicsServer2D.BODY_STATE_TRANSFORM,Transform2D.IDENTITY.translated((func (): var transform: Transform2D = get_viewport_transform(); var scale: Vector2 = transform.get_scale(); return -transform.origin / scale + get_viewport_rect().size / scale / 2).call()))
	VAR_DICT['score_sound'].volume_db = 0.0
	VAR_DICT['score_sound'].pitch_scale = 1.0
	VAR_DICT['score_sound'].play()

func _init():
	body_entered.connect(_on_body_entered)
"

[sub_resource type="Resource" id="Resource_tasas"]
script = ExtResource("5_wr38c")
block_class = &"ParameterBlock"
serialized_props = [["block_name", "parameter_block"], ["label", "Param"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 3], ["position", Vector2(0, 0)], ["scope", "
func _on_body_entered(_body: Node2D):
	var body: NodePath = _body.get_path()
"], ["block_format", "body"], ["statement", "body"], ["defaults", {}], ["variant_type", 22], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_pjafw"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_tasas")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_he201"]
script = ExtResource("5_wr38c")
block_class = &"ParameterBlock"
serialized_props = [["block_name", "parameter_block"], ["label", "Param"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 3], ["position", Vector2(0, 0)], ["scope", "
func _on_body_entered(_body: Node2D):
	var body: NodePath = _body.get_path()
"], ["block_format", "body"], ["statement", "body"], ["defaults", {}], ["variant_type", 22], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_ctark"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_he201")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_gxxn8"]
script = ExtResource("5_wr38c")
block_class = &"ParameterBlock"
serialized_props = [["block_name", "parameter_block"], ["label", "Param"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 3], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Is {node: NODE_PATH} in group {group: STRING}"], ["statement", "get_node({node}).is_in_group({group})"], ["defaults", {}], ["variant_type", 1], ["param_input_strings", {
"group": "walls",
"node": ""
}]]

[sub_resource type="Resource" id="Resource_4t5fq"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_gxxn8")
path_child_pairs = [[NodePath("MarginContainer/HBoxContainer/ParameterInput0/SnapPoint"), SubResource("Resource_ctark")]]

[sub_resource type="Resource" id="Resource_jyto7"]
script = ExtResource("5_wr38c")
block_class = &"StatementBlock"
serialized_props = [["block_name", "statement_block"], ["label", "StatementBlock"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Call method {method_name: STRING} in group {group: STRING}"], ["statement", "get_tree().call_group({group}, {method_name})"], ["defaults", {}], ["param_input_strings", {
"group": "balls",
"method_name": "reset"
}]]

[sub_resource type="Resource" id="Resource_ab5of"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_jyto7")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_j1imx"]
script = ExtResource("5_wr38c")
block_class = &"StatementBlock"
serialized_props = [["block_name", "statement_block"], ["label", "StatementBlock"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Call method {method_name: STRING} in group {group: STRING}"], ["statement", "get_tree().call_group({group}, {method_name})"], ["defaults", {}], ["param_input_strings", {
"group": "scoring",
"method_name": "goal_left"
}]]

[sub_resource type="Resource" id="Resource_8ipag"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_j1imx")
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_ab5of")]]

[sub_resource type="Resource" id="Resource_288n2"]
script = ExtResource("5_wr38c")
block_class = &"ControlBlock"
serialized_props = [["block_name", "control_block"], ["label", "Control Block"], ["color", Color(0.270588, 0.666667, 0.94902, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_formats", ["if    {condition: BOOL}"]], ["statements", ["if {condition}:"]], ["defaults", {}], ["param_input_strings_array", [{
"condition": false
}]]]

[sub_resource type="Resource" id="Resource_glvow"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_288n2")
path_child_pairs = [[NodePath("VBoxContainer/MarginContainer/Rows/Row0/RowHBoxContainer/RowHBox/ParameterInput0/SnapPoint"), SubResource("Resource_4t5fq")], [NodePath("VBoxContainer/MarginContainer/Rows/SnapContainer0/SnapPoint"), SubResource("Resource_8ipag")]]

[sub_resource type="Resource" id="Resource_0plda"]
script = ExtResource("5_wr38c")
block_class = &"EntryBlock"
serialized_props = [["block_name", "entry_block"], ["label", "EntryBlock"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 1], ["position", Vector2(98, 352)], ["scope", ""], ["block_format", "On [body: NODE_PATH] entered"], ["statement", "
func _on_body_entered(_body: Node2D):
	var body: NodePath = _body.get_path()
"], ["defaults", {}], ["param_input_strings", {}], ["signal_name", "body_entered"]]

[sub_resource type="Resource" id="Resource_jwpt1"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_0plda")
path_child_pairs = [[NodePath("VBoxContainer/TopMarginContainer/MarginContainer/HBoxContainer/ParameterOutput0/SnapPoint"), SubResource("Resource_pjafw")], [NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_glvow")]]

[sub_resource type="Resource" id="Resource_7qerp"]
script = ExtResource("6_ppdc3")
array = Array[ExtResource("4_qtggh")]([SubResource("Resource_jwpt1")])

[sub_resource type="Resource" id="Resource_bx5ai"]
script = ExtResource("7_uuuue")
script_inherits = "Area2D"
block_trees = SubResource("Resource_7qerp")
generated_script = "extends Area2D

var VAR_DICT := {}


func _on_body_entered(_body: Node2D):
	var body: NodePath = _body.get_path()

	if get_node(body).is_in_group('walls'):
		get_tree().call_group('scoring', 'goal_left')
		get_tree().call_group('balls', 'reset')

func _init():
	body_entered.connect(_on_body_entered)
"

[sub_resource type="Resource" id="Resource_doveu"]
script = ExtResource("5_wr38c")
block_class = &"ParameterBlock"
serialized_props = [["block_name", "parameter_block"], ["label", "Param"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 3], ["position", Vector2(0, 0)], ["scope", "
func _on_body_entered(_body: Node2D):
	var body: NodePath = _body.get_path()
"], ["block_format", "body"], ["statement", "body"], ["defaults", {}], ["variant_type", 22], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_xyxrn"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_doveu")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_cbo5a"]
script = ExtResource("5_wr38c")
block_class = &"ParameterBlock"
serialized_props = [["block_name", "parameter_block"], ["label", "Param"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 3], ["position", Vector2(0, 0)], ["scope", "
func _on_body_entered(_body: Node2D):
	var body: NodePath = _body.get_path()
"], ["block_format", "body"], ["statement", "body"], ["defaults", {}], ["variant_type", 22], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_6fo05"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_cbo5a")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_cwxay"]
script = ExtResource("5_wr38c")
block_class = &"ParameterBlock"
serialized_props = [["block_name", "parameter_block"], ["label", "Param"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 3], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Is {node: NODE_PATH} in group {group: STRING}"], ["statement", "get_node({node}).is_in_group({group})"], ["defaults", {}], ["variant_type", 1], ["param_input_strings", {
"group": "",
"node": ""
}]]

[sub_resource type="Resource" id="Resource_hn47f"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_cwxay")
path_child_pairs = [[NodePath("MarginContainer/HBoxContainer/ParameterInput0/SnapPoint"), SubResource("Resource_6fo05")]]

[sub_resource type="Resource" id="Resource_2rjk3"]
script = ExtResource("5_wr38c")
block_class = &"StatementBlock"
serialized_props = [["block_name", "statement_block"], ["label", "StatementBlock"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Call method {method_name: STRING} in group {group: STRING}"], ["statement", "get_tree().call_group({group}, {method_name})"], ["defaults", {}], ["param_input_strings", {
"group": "scoring",
"method_name": "goal_right"
}]]

[sub_resource type="Resource" id="Resource_b6ghp"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_2rjk3")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_hfvs8"]
script = ExtResource("5_wr38c")
block_class = &"StatementBlock"
serialized_props = [["block_name", "statement_block"], ["label", "StatementBlock"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Call method {method_name: STRING} in group {group: STRING}"], ["statement", "get_tree().call_group({group}, {method_name})"], ["defaults", {}], ["param_input_strings", {
"group": "balls",
"method_name": "reset"
}]]

[sub_resource type="Resource" id="Resource_x60gt"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_hfvs8")
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_b6ghp")]]

[sub_resource type="Resource" id="Resource_6o2pm"]
script = ExtResource("5_wr38c")
block_class = &"ControlBlock"
serialized_props = [["block_name", "control_block"], ["label", "Control Block"], ["color", Color(0.270588, 0.666667, 0.94902, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_formats", ["if    {condition: BOOL}"]], ["statements", ["if {condition}:"]], ["defaults", {}], ["param_input_strings_array", [{
"condition": false
}]]]

[sub_resource type="Resource" id="Resource_y0f1u"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_6o2pm")
path_child_pairs = [[NodePath("VBoxContainer/MarginContainer/Rows/Row0/RowHBoxContainer/RowHBox/ParameterInput0/SnapPoint"), SubResource("Resource_hn47f")], [NodePath("VBoxContainer/MarginContainer/Rows/SnapContainer0/SnapPoint"), SubResource("Resource_x60gt")]]

[sub_resource type="Resource" id="Resource_pjlcp"]
script = ExtResource("5_wr38c")
block_class = &"EntryBlock"
serialized_props = [["block_name", "entry_block"], ["label", "EntryBlock"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 1], ["position", Vector2(195, 56)], ["scope", ""], ["block_format", "On [body: NODE_PATH] entered"], ["statement", "
func _on_body_entered(_body: Node2D):
	var body: NodePath = _body.get_path()
"], ["defaults", {}], ["param_input_strings", {}], ["signal_name", "body_entered"]]

[sub_resource type="Resource" id="Resource_uj1xx"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_pjlcp")
path_child_pairs = [[NodePath("VBoxContainer/TopMarginContainer/MarginContainer/HBoxContainer/ParameterOutput0/SnapPoint"), SubResource("Resource_xyxrn")], [NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_y0f1u")]]

[sub_resource type="Resource" id="Resource_xphhp"]
script = ExtResource("6_ppdc3")
array = Array[ExtResource("4_qtggh")]([SubResource("Resource_uj1xx")])

[sub_resource type="Resource" id="Resource_6drva"]
script = ExtResource("7_uuuue")
script_inherits = "Area2D"
block_trees = SubResource("Resource_xphhp")
generated_script = "extends Area2D

var VAR_DICT := {}


func _on_body_entered(_body: Node2D):
	var body: NodePath = _body.get_path()

	if get_node(body).is_in_group(''):
		get_tree().call_group('balls', 'reset')
		get_tree().call_group('scoring', 'goal_right')

func _init():
	body_entered.connect(_on_body_entered)
"

[sub_resource type="Resource" id="Resource_nh5qb"]
script = ExtResource("5_wr38c")
block_class = &"StatementBlock"
serialized_props = [["block_name", "statement_block"], ["label", "StatementBlock"], ["color", Color(0.941176, 0.764706, 0, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["block_format", "Add to group {group: STRING}"], ["statement", "add_to_group({group})"], ["defaults", {}], ["param_input_strings", {
"group": "scoring"
}]]

[sub_resource type="Resource" id="Resource_hugdn"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_nh5qb")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_xhy0x"]
script = ExtResource("5_wr38c")
block_class = &"StatementBlock"
serialized_props = [["block_name", "statement_block"], ["label", "StatementBlock"], ["color", Color(0.439216, 0.501961, 0.564706, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["block_format", "Set player 2 score to {score: INT}"], ["statement", "score_right = {score}"], ["defaults", {}], ["param_input_strings", {
"score": "0"
}]]

[sub_resource type="Resource" id="Resource_xqajo"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_xhy0x")
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_hugdn")]]

[sub_resource type="Resource" id="Resource_sreck"]
script = ExtResource("5_wr38c")
block_class = &"StatementBlock"
serialized_props = [["block_name", "statement_block"], ["label", "StatementBlock"], ["color", Color(0.439216, 0.501961, 0.564706, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["block_format", "Set player 1 score to {score: INT}"], ["statement", "score_left = {score}"], ["defaults", {}], ["param_input_strings", {
"score": "0"
}]]

[sub_resource type="Resource" id="Resource_cweom"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_sreck")
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_xqajo")]]

[sub_resource type="Resource" id="Resource_3uk5q"]
script = ExtResource("5_wr38c")
block_class = &"EntryBlock"
serialized_props = [["block_name", "ready_block"], ["label", "EntryBlock"], ["color", Color(0.980392, 0.34902, 0.337255, 1)], ["block_type", 1], ["position", Vector2(54, 47)], ["block_format", "On Ready"], ["statement", "func _ready():"], ["defaults", {}], ["param_input_strings", {}], ["signal_name", ""]]

[sub_resource type="Resource" id="Resource_kt2b1"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_3uk5q")
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_cweom")]]

[sub_resource type="Resource" id="Resource_2wg3j"]
script = ExtResource("5_wr38c")
block_class = &"StatementBlock"
serialized_props = [["block_name", "statement_block"], ["label", "StatementBlock"], ["color", Color(0.439216, 0.501961, 0.564706, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["block_format", "Change player 1 score by {score: INT}"], ["statement", "score_left += {score}"], ["defaults", {}], ["param_input_strings", {
"score": "1"
}]]

[sub_resource type="Resource" id="Resource_ngm2f"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_2wg3j")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_l0tk7"]
script = ExtResource("5_wr38c")
block_class = &"EntryBlock"
serialized_props = [["block_name", "entry_block"], ["label", "EntryBlock"], ["color", Color(0.941176, 0.764706, 0, 1)], ["block_type", 1], ["position", Vector2(499, 220)], ["block_format", "Define method {method_name: NIL}"], ["statement", "func {method_name}():"], ["defaults", {}], ["param_input_strings", {
"method_name": "goal_right"
}], ["signal_name", ""]]

[sub_resource type="Resource" id="Resource_5315l"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_l0tk7")
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_ngm2f")]]

[sub_resource type="Resource" id="Resource_g74qq"]
script = ExtResource("5_wr38c")
block_class = &"StatementBlock"
serialized_props = [["block_name", "statement_block"], ["label", "StatementBlock"], ["color", Color(0.439216, 0.501961, 0.564706, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["block_format", "Change player 2 score by {score: INT}"], ["statement", "score_right += {score}"], ["defaults", {}], ["param_input_strings", {
"score": "1"
}]]

[sub_resource type="Resource" id="Resource_wvrb6"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_g74qq")
path_child_pairs = []

[sub_resource type="Resource" id="Resource_4337b"]
script = ExtResource("5_wr38c")
block_class = &"EntryBlock"
serialized_props = [["block_name", "entry_block"], ["label", "EntryBlock"], ["color", Color(0.941176, 0.764706, 0, 1)], ["block_type", 1], ["position", Vector2(142, 273)], ["block_format", "Define method {method_name: NIL}"], ["statement", "func {method_name}():"], ["defaults", {}], ["param_input_strings", {
"method_name": "goal_left"
}], ["signal_name", ""]]

[sub_resource type="Resource" id="Resource_mgqxu"]
script = ExtResource("4_qtggh")
serialized_block = SubResource("Resource_4337b")
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_wvrb6")]]

[sub_resource type="Resource" id="Resource_c8btv"]
script = ExtResource("6_ppdc3")
array = Array[ExtResource("4_qtggh")]([SubResource("Resource_kt2b1"), SubResource("Resource_5315l"), SubResource("Resource_mgqxu")])

[sub_resource type="Resource" id="Resource_k3sym"]
script = ExtResource("7_uuuue")
script_inherits = "SimpleScoring"
block_trees = SubResource("Resource_c8btv")
generated_script = "extends SimpleScoring

var VAR_DICT := {}

func _ready():
	score_left = 0
	score_right = 0
	add_to_group('scoring')

func goal_right():
	score_left += 1

func goal_left():
	score_right += 1

"

[node name="Pong" type="Node2D"]

[node name="Space" parent="." instance=ExtResource("1_y56ac")]

[node name="PaddleLeft" parent="." groups=["paddles"] instance=ExtResource("3_hjpbs")]
modulate = Color(0.509804, 0.360784, 0.972549, 1)
position = Vector2(64, 544)
collision_mask = 5
texture = ExtResource("4_ra7bh")

[node name="BlockCode" type="Node" parent="PaddleLeft"]
script = ExtResource("3_6jaq8")
block_script = SubResource("Resource_qmak3")

[node name="PaddleRight" parent="." groups=["paddles"] instance=ExtResource("3_hjpbs")]
modulate = Color(0.509804, 0.360784, 0.972549, 1)
position = Vector2(1856, 544)
collision_mask = 5
texture = ExtResource("4_ra7bh")

[node name="BlockCode" type="Node" parent="PaddleRight"]
script = ExtResource("3_6jaq8")
block_script = SubResource("Resource_lxj2y")

[node name="Ball" parent="." instance=ExtResource("9_xrqll")]
modulate = Color(0.511, 0.362, 0.972, 1)
position = Vector2(960, 544)
gravity_scale = 0.0

[node name="BlockCode" type="Node" parent="Ball"]
script = ExtResource("3_6jaq8")
block_script = SubResource("Resource_hnwk2")

[node name="GoalAreaLeft" parent="." groups=["goal", "goal_left"] instance=ExtResource("12_nqmxu")]
position = Vector2(-64, 544)

[node name="BlockCode" type="Node" parent="GoalAreaLeft"]
script = ExtResource("3_6jaq8")
block_script = SubResource("Resource_bx5ai")

[node name="GoalAreaRight" parent="." groups=["goal", "goal_right"] instance=ExtResource("12_nqmxu")]
position = Vector2(1984, 544)

[node name="BlockCode" type="Node" parent="GoalAreaRight"]
script = ExtResource("3_6jaq8")
block_script = SubResource("Resource_6drva")

[node name="SimpleScoring" parent="." instance=ExtResource("8_yg457")]
follow_viewport_enabled = true

[node name="BlockCode" type="Node" parent="SimpleScoring"]
script = ExtResource("3_6jaq8")
block_script = SubResource("Resource_k3sym")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(960, 540)
zoom = Vector2(0.6, 0.6)
